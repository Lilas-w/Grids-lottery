(this["webpackJsonpgrid-lottery"]=this["webpackJsonpgrid-lottery"]||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c(16),s=c.n(n),j=(c(7),c(18)),r=c(3),a=c(17),d=c.n(a),l=c(0),b=function(e){var t=e.num,c=e.prize,i=e.active;return Object(l.jsx)("div",{className:t===i?"item itemActivate":"item",children:c.name})},O=function(e){var t=e.handleLottery;return Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:t,className:"lottery-btn"})})},u=function(e){var t=e.list;return Object(l.jsx)("div",{children:t.map((function(e,t){return Object(l.jsx)("li",{children:e.name},t)}))})},v=(c(42),function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(i.useState)(750),a=Object(r.a)(s,2),v=a[0],o=a[1],x=Object(i.useState)([]),h=Object(r.a)(x,2),m=h[0],p=h[1],f=Object(i.useState)(null),N=Object(r.a)(f,2),z=N[0],g=N[1],y=Object(i.useState)(!1),S=Object(r.a)(y,2),w=S[0],k=S[1],I=Object(i.useState)(!1),A=Object(r.a)(I,2),C=A[0],E=A[1];Object(i.useEffect)((function(){return d.a.get("http://localhost:3002/prizePool").then((function(e){n(e.data),k(!0)}))}),[]);return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"bg",children:w?Object(l.jsxs)("div",{className:"board",children:[Object(l.jsxs)("div",{className:"boardContainer",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:1,prize:c[0],active:z})}),Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:2,prize:c[1],active:z})}),Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:3,prize:c[2],active:z})})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:8,prize:c[7],active:z})}),Object(l.jsx)("div",{children:Object(l.jsx)(O,{handleLottery:function(){if(!C)if(E(!0),v<200)alert("\u77ff\u77f3\u4e0d\u8db3");else{o(v-200);var e=[];c.map((function(e){return e.prob})).reduce((function(t,c,i){return e[i]=t+c}),0);for(var t=Math.random(),i=0;i<e.length;i++)if(t<=e[i]){t=i+1;break}var n=t-1+18,s=1,r=setInterval((function(){s<=n?(g((s+1)%9),s++):(clearInterval(r),p([].concat(Object(j.a)(m),[c[t-1]])),E(!1),1===t&&o(v+66))}),150)}}})}),Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:4,prize:c[3],active:z})})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:7,prize:c[6],active:z})}),Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:6,prize:c[5],active:z})}),Object(l.jsx)("div",{children:Object(l.jsx)(b,{num:5,prize:c[4],active:z})})]})]}),Object(l.jsxs)("div",{className:"remind-text",children:["\u5f53\u524d\u77ff\u77f3\u6570\uff1a",v,Object(l.jsx)("div",{children:"200\u77ff\u77f3/\u6b21"})]})]}):Object(l.jsx)("div",{className:"loading",children:"\u52a0\u8f7d\u6570\u636e..."})}),Object(l.jsxs)("div",{className:"lottery-list",children:[Object(l.jsx)("div",{className:"list-head",children:"\u83b7\u5956\u8bb0\u5f55"}),Object(l.jsx)("ul",{children:Object(l.jsx)(u,{list:m})})]})]})});s.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))},7:function(e,t,c){}},[[43,1,2]]]);
//# sourceMappingURL=main.e4c09473.chunk.js.map